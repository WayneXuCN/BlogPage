# 多语言支持

本博客系统支持多语言功能，当前支持中文和英文。

## 配置多语言

多语言配置位于 `src/i18n/config.ts`，支持以下语言：

- 英语 (en)
- 中文 (zh)

### 添加新语言

要添加新语言，需要修改 `SUPPORTED_LOCALES` 数组：

```typescript
export const SUPPORTED_LOCALES: ReadonlyArray<LocaleConfig> = [
  {
    code: "en",
    path: "en",
    name: "English",
    htmlLang: "en",
    dir: "ltr",
    dayjsLocale: "en",
    intlLocale: "en-US",
    dateFormat: "D MMM, YYYY",
    aliases: ["en-US", "en-GB", "en-CA", "en-AU", "en"]
  },
  {
    code: "zh",
    path: "zh",
    name: "中文",
    htmlLang: "zh-CN",
    dir: "ltr",
    dayjsLocale: "zh-cn",
    intlLocale: "zh-CN",
    dateFormat: "YYYY年M月D日",
    aliases: ["zh", "zh-CN", "zh-Hans", "zh-CN", "zh-hans", "zh-cn", "zh-tw", "zh-hant", "zh-TW"]
  }
  // 添加更多语言...
];
```

### 语言配置选项

每个语言配置包含以下选项：

- `code`: 语言代码（如 "en", "zh"）
- `path`: URL 路径标识符（如 "en", "zh"）
- `name`: 语言显示名称
- `htmlLang`: HTML lang 属性值
- `dir`: 文本方向 ("ltr" | "rtl" | "auto")
- `dayjsLocale`: Day.js 本地化 ID
- `intlLocale`: Intl 本地化标签
- `dateFormat`: 日期格式
- `aliases`: 语言别名数组

## 内容组织

### 文章存储

多语言文章存储在 `src/data/blog/` 目录下：

```
src/data/blog/
├── en/           # 英文文章
│   └── article.md
└── zh/           # 中文文章
    └── article.md
```

### 关于页面

关于页面也支持多语言，存储在 `src/data/about/` 目录：

```
src/data/about/
├── en.md         # 英文关于页面
└── zh.md         # 中文关于页面
```

### 国际化文本

其他国际化文本存储在 `src/data/i18n/` 目录：

```
src/data/i18n/
├── en.yaml       # 英文文本
└── zh.yaml       # 中文文本
```

## 自动语言检测

系统会自动检测用户的语言偏好：

1. 检查 URL 中的语言路径
2. 检查浏览器语言设置
3. 使用默认语言（通常是第一种支持的语言）

## 语言切换

页面顶部提供语言切换功能，用户可以手动切换当前显示的语言。

## 日期格式化

不同语言使用不同的日期格式：

- 英语：`D MMM, YYYY` (例如: 1 Jan, 2025)
- 中文：`YYYY年M月D日` (例如: 2025年1月1日)

## 语言特定功能

### URL 结构

多语言网站使用路径前缀来区分语言：

- 英文: `https://example.com/en/`
- 中文: `https://example.com/zh/`
- 默认语言: `https://example.com/`

### SEO 考虑

系统会自动生成适当的 hreflang 标签以支持多语言 SEO。

## 翻译文章

### 创建翻译

为现有文章创建翻译版本：

1. 在对应语言目录中创建新文件
2. 使用相同的 slug 或适当的翻译
3. 翻译文章内容
4. 保持 frontmatter 信息同步

### 语言关联

虽然系统不自动关联不同语言的相同文章，但建议在文章中添加跨语言链接。

## 开发注意事项

### 测试多语言功能

在开发过程中测试多语言功能：

```bash
bun run dev
```

访问不同语言路径验证功能正常。

### 本地化内容

确保所有用户可见的文本都支持适当的本地化。

## 最佳实践

### 内容同步

保持不同语言版本的内容同步更新。

### URL 一致性

尽量保持不同语言版本使用相同的 URL 结构。

### 语言检测

尊重用户的语言偏好设置。

### 性能考虑

多语言内容会增加构建时间和网站大小，注意性能优化。